//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../../../SplendoSharedApp/shared/src/main/java///shared/app/splendo/viewmodel/MainViewModel.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "MainModel.h"
#include "MainViewModel.h"
#include "ObservableBuilder.h"
#include "SharedObservable.h"
#include "java/lang/Integer.h"

@interface SharedAppSplendoViewmodelMainViewModel () {
 @public
  id<SharedAppSplendoSharedObservable> labelText_;
  SharedAppSplendoModelMainModel *model_;
}

- (void)updateLabelText;

@end

J2OBJC_FIELD_SETTER(SharedAppSplendoViewmodelMainViewModel, labelText_, id<SharedAppSplendoSharedObservable>)
J2OBJC_FIELD_SETTER(SharedAppSplendoViewmodelMainViewModel, model_, SharedAppSplendoModelMainModel *)

__attribute__((unused)) static void SharedAppSplendoViewmodelMainViewModel_updateLabelText(SharedAppSplendoViewmodelMainViewModel *self);

@implementation SharedAppSplendoViewmodelMainViewModel

- (instancetype)initWithSharedAppSplendoObservableBuilder:(id<SharedAppSplendoObservableBuilder>)observableBuilder {
  SharedAppSplendoViewmodelMainViewModel_initWithSharedAppSplendoObservableBuilder_(self, observableBuilder);
  return self;
}

- (id<SharedAppSplendoSharedObservable>)getLabelText {
  return labelText_;
}

- (void)updateLabelText {
  SharedAppSplendoViewmodelMainViewModel_updateLabelText(self);
}

- (void)onButtonClicked {
  [((SharedAppSplendoModelMainModel *) nil_chk(model_)) raiseCounter];
  SharedAppSplendoViewmodelMainViewModel_updateLabelText(self);
}

- (void)dealloc {
  RELEASE_(labelText_);
  RELEASE_(model_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "LSharedAppSplendoSharedObservable;", 0x1, -1, -1, -1, 1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithSharedAppSplendoObservableBuilder:);
  methods[1].selector = @selector(getLabelText);
  methods[2].selector = @selector(updateLabelText);
  methods[3].selector = @selector(onButtonClicked);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "labelText_", "LSharedAppSplendoSharedObservable;", .constantValue.asLong = 0, 0x2, -1, -1, 2, -1 },
    { "model_", "LSharedAppSplendoModelMainModel;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LSharedAppSplendoObservableBuilder;", "()Lshared/app/splendo/SharedObservable<Ljava/lang/String;>;", "Lshared/app/splendo/SharedObservable<Ljava/lang/String;>;" };
  static const J2ObjcClassInfo _SharedAppSplendoViewmodelMainViewModel = { "MainViewModel", "shared.app.splendo.viewmodel", ptrTable, methods, fields, 7, 0x1, 4, 2, -1, -1, -1, -1, -1 };
  return &_SharedAppSplendoViewmodelMainViewModel;
}

@end

void SharedAppSplendoViewmodelMainViewModel_initWithSharedAppSplendoObservableBuilder_(SharedAppSplendoViewmodelMainViewModel *self, id<SharedAppSplendoObservableBuilder> observableBuilder) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->model_, new_SharedAppSplendoModelMainModel_init());
  JreStrongAssign(&self->labelText_, [((id<SharedAppSplendoObservableBuilder>) nil_chk(observableBuilder)) getStringObservable]);
  SharedAppSplendoViewmodelMainViewModel_updateLabelText(self);
}

SharedAppSplendoViewmodelMainViewModel *new_SharedAppSplendoViewmodelMainViewModel_initWithSharedAppSplendoObservableBuilder_(id<SharedAppSplendoObservableBuilder> observableBuilder) {
  J2OBJC_NEW_IMPL(SharedAppSplendoViewmodelMainViewModel, initWithSharedAppSplendoObservableBuilder_, observableBuilder)
}

SharedAppSplendoViewmodelMainViewModel *create_SharedAppSplendoViewmodelMainViewModel_initWithSharedAppSplendoObservableBuilder_(id<SharedAppSplendoObservableBuilder> observableBuilder) {
  J2OBJC_CREATE_IMPL(SharedAppSplendoViewmodelMainViewModel, initWithSharedAppSplendoObservableBuilder_, observableBuilder)
}

void SharedAppSplendoViewmodelMainViewModel_updateLabelText(SharedAppSplendoViewmodelMainViewModel *self) {
  [((id<SharedAppSplendoSharedObservable>) nil_chk(self->labelText_)) setWithId:NSString_formatWithNSString_withNSObjectArray_(@"Current Count: %1$d", [IOSObjectArray arrayWithObjects:(id[]){ JavaLangInteger_valueOfWithInt_([((SharedAppSplendoModelMainModel *) nil_chk(self->model_)) getCounter]) } count:1 type:NSObject_class_()])];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(SharedAppSplendoViewmodelMainViewModel)
